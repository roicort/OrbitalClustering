
\chapter{\textit{Graphlets}, Órbitas y Roles Estructurales}
\label{chapter:3}

\section{\textit{Graphlets}}

%colección (diccionario) para contar cosas inducidas en una red

Los \graphlets son subgrafos que pueden identificarse de manera inducida en una red mas grande.  En teoría de grafos, un subgrafo inducido de un grafo $G$ se conforma a partir de un subconjunto de vértices de $G$ y de todas las aristas incidentes a pares de vértices del subconjunto \cite{przulj_biological_2007}.


Los \graphlets fueron introducidos por primera vez dentro del contexto biológico con la idea de comparar grafos. Milenkovic \textit{et al.} crearon un diccionario de todos los posibles subgrafos con 2-5 nodos considerando las clases de isomorfismo \cite{milenkovic_uncovering_2008}. 

A partir de ese trabajo, se ha utilizado la ennumeración de \graphlets de tamaño $n$ para estudiar la estructura de redes. Es decir, dada una red $G$, se observa el subgrafo que se forma en cada posible combinación de $n$ nodos conexos dentro de $G$ y se realiza un conteo de las estructuras observadas.

Así, podemos pensar en los \graphlets como una colección o diccionario de todas las clases de isomorfismo de subgrafos de hasta un tamaño fijo $n$. La Fig. \ref{fig:small-graphlets} muestra los \graphlets correspondientes a $n=2$, $n=3$ y $n=4$. Analizar una red usando \graphlets de tamaño máximo $n=4$ consistiría en identificar cada una de las estructuras que se muestran en la figura y contar cuántas veces aparece cada una. Este conteo después puede utilizarse para analizar propiedades de la red, de la misma manera en que se utiliza el grado. De hecho, el perfil que tiene una red respecto al conteo de \graphlets puede considerarse una generalización de la distribución de grado \citep{sarajlic_graphlet-based_2016}. 

 \begin{figure}[htbp]
   \centering
   \includesvg[width=1\textwidth]{figures/smallgraphlets.svg}
    \caption{\textit{Graphlets} de 2, 3 y 4 nodos.}
    \label{fig:small-graphlets}
\end{figure} 


La relevancia de los \textit{graphlets} va más allá de la comparación de grafos. Recientemente se ha sugerido que la presencia, o ausencia, de ciertas estructuras locales dentro de una red podría tener un impacto crítico en la estructura general de la red \cite{lusher_exponential_nodate}.




\section{Órbitas y firma orbital}
\begin{figure}[htbp]
   \centering
   \includesvg[width=0.3\textwidth]{figures/Orca-G1.svg}
    \caption{Ejemplo de roles distintos en los nodos que componen un $graphlet$ de tamaño 3. Los nodos $A$ y $C$ pueden considerarse equivalentes, pero tienen un rol estructural distinto al de $B$. Este $graphlet$, $G_1$, tendría dos órbitas: una representada en color naranja y otra en color azul.}
    \label{fig:ejemploOrbita}
\end{figure}

 
En los $graphlets$ es posible reconocer diferentes roles de nodos. Por ejemplo, en la Fig. \ref{fig:ejemploOrbita}, el nodo $B$ juega un papel claramente distinto al de $A$ y $C$, pues es un extremo para cada arista que aparece en el $graphlet$ y tiene un rol central. En contraste, $A$ y $C$ son nodos que tienen un papel equivalente, en la periferia del grafo. A cada papel, o rol estructural, que se puede identificar dentro de un $graphlet$ se le llama órbita.


\begin{figure}[htbp]
   \centering
   \includesvg[width=1\textwidth]{figures/orcaorbits.svg}
    \caption{\textit{Graphlets} y órbitas no dirigidas de 2 a 5 nodos.}
    \label{fig:orcaorbits}
\end{figure}

Dicho de una manera más formal, las órbitas son las posiciones posibles que un nodo puede tomar en un \textit{graphlet} al reetiquetar todos sus nodos de forma que se preserven las relaciones ordenadas de adyacencia  \cite{sarajlic_graphlet-based_2016}. La Fig. \ref{fig:orcaorbits} ilustra todas las posibles órbitas que existen en la colección de $graphlets$ de dos o más puntos con tamaño máximo $n=5$; los colores en cada nodo identifican roles distintos (o equivalentes) dentro de un $graphlet$. 

Tomando en cuenta la lista de posibles órbitas, podríamos analizar un nodo $v$ en una red y contar cuántas veces aparece en cada órbita al considerar todos los posibles $graphlets$ de los que forma parte. 

Una firma orbital es eso: el conteo de las posiciones orbitales de un nodo. Si, por ejemplo, consideramos $graphlets$ de tamaño máximo $n=5$, la firma orbital de un nodo $v$ sería un vector con $73$ componentes, de manera que la $i$-ésima componente del vector represente las veces que $v$ aparece en la órbita $i$. Este vector, o firma orbital del nodo, logra describir la topología del nodo y su vecindario, y captura sus interconexiones hasta una distancia $n=5$, incluso de puntos aislados que tendrán ceros en todas las entradas \cite{sarajlic_graphlet-based_2016}.

Originalmente, las firmas orbitales se utilizaron en el contexto de biología para analizar redes e identificar grupos de nodos topológicamente similares que, por lo tanto, compartieran propiedades biológicas \cite{milenkovic_uncovering_2008}. 

 \begin{figure}[htbp]
  \centering
  \includesvg[width=0.5\textwidth]{figures/examplecount.svg}
    \caption{Grafo dirigido de 5 nodos.}
    \label{fig:examplecount}
\end{figure}

En la Fig. \ref{fig:examplecount} encontramos un grafo dirigido para el cual identificamos las órbitas en las que aparecen sus nodos; la matriz de órbitas lo podemos encontrar en la Figura \ref{fig:examplecount-vector}.

 \begin{figure}[htbp]
  \centering
  \includesvg[width=1.\textwidth]{figures/examplecount-vector.svg}
    \caption{Matriz de conteo de órbitas para el grafo \ref{fig:examplecount}}
    \label{fig:examplecount-vector}
\end{figure}

\subsection{Ejemplo Karate Club}
La red Karate Club estudiada por Wayne W. Zachary en  \cite{zachary_information_1977} describe las interacciones de 34 miembros de un club de karate de 1970 a 1972, periodo durante el cual surgió un conflicto entre el administrador John A. y el instructor Mr. Hi. y el club se dividió en dos grupos al rededor de cada uno de ellos. Esta red (Ver Fig.\ref{fig:karateclub}) se convirtió en un estándar para el estudio de algoritmos y a menudo se utiliza como referencia. 

 \begin{figure}[htbp]
  \centering
  \includesvg[width=1.\textwidth]{figures/karate.svg}
    \caption{Red de Karate Club \cite{zachary_information_1977}. Los nodos más influyentes, Mr. Hi, John A. y sus respectivos vecinos a distancia 1 han sido coloreados.}
    \label{fig:karateclub}
\end{figure}

En la Fig. \ref{fig:karateorbits} podemos observar los \textit{embeddings} para 4 nodos de la red Karate Club. Para contrastar los \textit{embeddings} de distintos tipos de nodos en la red tomamos como referencia a los más influyentes, Mr. Hi y John A., y a los menos conectados, los nodos 9 y 17. En el caso de los nodos más influyentes podemos observar que comparten órbitas dominantes, que son las órbitas 16, 21 y 23 descritas en la Fig. \ref{fig:orcaorbits}. Por otro lado las órbitas dominantes del nodo 9 son las 17, 20 y 22 y del nodo 17 son las 4, 15 y 18. Es importante notar que las órbitas 16, 21 y 23 son órbitas centrales pertenecientes a \graphlets de 5 nodos.

 \begin{figure}[htbp]
   \centering
   \includesvg[width=1\textwidth]{figures/karateorbits.svg}
    \caption{Comparación del conteo de órbitas normalizado para 4 usuarios de la red \textit{Karate Club}.}
    \label{fig:karateorbits}
\end{figure}

Mediante este ejemplo observamos que la firma orbital de los nodos de una red puede ser una herramienta útil para diferenciar los roles en los que participan. En el caso de una red social, este rol puede referirse a distintas jerarquías sociales y niveles de influencia en el flujo de la información.